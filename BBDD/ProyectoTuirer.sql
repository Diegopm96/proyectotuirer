-- MySQL Script generated by MySQL Workbench
-- Fri Mar 24 21:51:48 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema PROYECTO_TUIRER
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema PROYECTO_TUIRER
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `PROYECTO_TUIRER` DEFAULT CHARACTER SET utf8 ;
USE `PROYECTO_TUIRER` ;

-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`Usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`Usuario` (
  `ID_USUARIO` INT NOT NULL AUTO_INCREMENT,
  `EMAIL` VARCHAR(45) NOT NULL,
  `NOMBRE_USUARIO` VARCHAR(45) NOT NULL,
  `PASSWORD` VARCHAR(45) NOT NULL,
  `FECHA_REGISTRO` DATE NOT NULL,
  PRIMARY KEY (`ID_USUARIO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`Tuit`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`Tuit` (
  `ID_TUIT` INT NOT NULL AUTO_INCREMENT,
  `CONTENIDO` TINYTEXT NOT NULL,
  `FECHA_PUBLICACION` DATE NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_TUIT`),
  UNIQUE INDEX `ID_TUIT_UNIQUE` (`ID_TUIT` ASC) INVISIBLE,
  INDEX `ID_USUARIO_idx` (`ID_USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_ID_USUARIO_TUIT`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`Comentario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`Comentario` (
  `ID_COMENTARIO` INT NOT NULL AUTO_INCREMENT,
  `CONTENIDO` TINYTEXT NOT NULL,
  `FECHA_PUBLICACION` DATE NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_TUIT_COMENTADO` INT NOT NULL,
  PRIMARY KEY (`ID_COMENTARIO`),
  INDEX `ID_TUIT_COMENTADOidx` (`ID_TUIT_COMENTADO` ASC) VISIBLE,
  INDEX `FK_ID_USUARIO_idx` (`ID_USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_ID_TUIT_COMENTARIO`
    FOREIGN KEY (`ID_TUIT_COMENTADO`)
    REFERENCES `PROYECTO_TUIRER`.`Tuit` (`ID_TUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_USUARIO_COMENTARIO`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`Likes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`Likes` (
  `ID_LIKE` INT NOT NULL AUTO_INCREMENT,
  `ID_TUIT_COMENTARIO` INT NOT NULL,
  `FLAG_LIKE` TINYINT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `FLAG_TUIT_COMENTARIO` TINYINT NOT NULL,
  PRIMARY KEY (`ID_LIKE`),
  INDEX `FK_ID_USUARIO_idx` (`ID_USUARIO` ASC) VISIBLE,
  INDEX `FK_ID_TUIT_idx` (`ID_TUIT_COMENTARIO` ASC) VISIBLE,
  CONSTRAINT `FK_ID_USUARIO_LIKE`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_TUIT_LIKE`
    FOREIGN KEY (`ID_TUIT_COMENTARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Tuit` (`ID_TUIT`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_COMENTARIO_LIKE`
    FOREIGN KEY (`ID_TUIT_COMENTARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Comentario` (`ID_COMENTARIO`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`Seguimiento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`Seguimiento` (
  `ID_SEGUIMIENTO` INT NOT NULL AUTO_INCREMENT,
  `ID_USUARIO_SEGUIDOR` INT NOT NULL,
  `ID_USUARIO_SEGUIDO` INT NOT NULL,
  `FECHA_SEGUIMIENTO` DATE NOT NULL,
  PRIMARY KEY (`ID_SEGUIMIENTO`),
  INDEX `ID_USUARIO_SEGUIDOR_idx` (`ID_USUARIO_SEGUIDOR` ASC) VISIBLE,
  INDEX `ID_USUARIO_SEGUIDO_idx` (`ID_USUARIO_SEGUIDO` ASC) VISIBLE,
  CONSTRAINT `FK_ID_USUARIO_SEGUIDOR`
    FOREIGN KEY (`ID_USUARIO_SEGUIDOR`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_USUARIO_SEGUIDO`
    FOREIGN KEY (`ID_USUARIO_SEGUIDO`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`chat`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`chat` (
  `ID_CHAT` INT NOT NULL AUTO_INCREMENT,
  `ID_USUARIO_EMISOR` INT NULL,
  `ID_USUARIO_RECEPTOR` INT NULL,
  PRIMARY KEY (`ID_CHAT`),
  INDEX `ID_USUARIO_EMISOR_idx` (`ID_USUARIO_EMISOR` ASC) VISIBLE,
  INDEX `ID_USUARIO_RECEPTOR_idx` (`ID_USUARIO_RECEPTOR` ASC) VISIBLE,
  CONSTRAINT `FK_ID_USUARIO_EMISOR`
    FOREIGN KEY (`ID_USUARIO_EMISOR`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE SET NULL
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_USUARIO_RECEPTOR`
    FOREIGN KEY (`ID_USUARIO_RECEPTOR`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE SET NULL
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `PROYECTO_TUIRER`.`MENSAJE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PROYECTO_TUIRER`.`MENSAJE` (
  `ID_MENSAJE` INT NOT NULL AUTO_INCREMENT,
  `CONTENIDO` LONGTEXT NOT NULL,
  `ID_CHAT` INT NOT NULL,
  `FECHA_ENVIADO` DATE NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_MENSAJE`),
  INDEX `ID_CHAT_idx` (`ID_CHAT` ASC) VISIBLE,
  INDEX `ID_USUARIO_idx` (`ID_USUARIO` ASC) VISIBLE,
  CONSTRAINT `FK_ID_CHAT`
    FOREIGN KEY (`ID_CHAT`)
    REFERENCES `PROYECTO_TUIRER`.`chat` (`ID_CHAT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_ID_USUARIO_MENSAJE`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `PROYECTO_TUIRER`.`Usuario` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
